{"version":3,"file":"cart-manager.js","mappings":"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","sources":["webpack://itay-upsell-and-cart-plugin/webpack/bootstrap","webpack://itay-upsell-and-cart-plugin/webpack/runtime/make namespace object","webpack://itay-upsell-and-cart-plugin/./src/admin/js/cart-manager.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","class CartManager {\r\n  #timeZonesContainer;\r\n  #timeZonesInputs;\r\n  #addTimeZoneBtn;\r\n  #deleteTimeZoneBtn;\r\n  #days;\r\n  #markup;\r\n\r\n  constructor() {\r\n    window.addEventListener(\"DOMContentLoaded\", () => {\r\n      this.initializeVariables();\r\n      this.events();\r\n    });\r\n  }\r\n  events() {\r\n    // add time zone\r\n    this.#addTimeZoneBtn.addEventListener(\"click\", (e) => {\r\n      e.preventDefault();\r\n      this.addTimeZone();\r\n    });\r\n\r\n    // delete time zone\r\n    this.#timeZonesContainer.addEventListener(\"click\", (e) => {\r\n      const target = e.target.closest(\"#iucp-delete-time-zone-button\");\r\n      if (!target) return;\r\n      e.preventDefault();\r\n      this.deleteTimeZone(target);\r\n    });\r\n\r\n    // Time change\r\n\r\n    this.#timeZonesInputs.forEach((element) => {\r\n      element.addEventListener(\"input\", () => {\r\n        this.timeChanged(element);\r\n      });\r\n    });\r\n  }\r\n\r\n  timeChanged(element) {\r\n    const parent = element.closest(\".iucp-time-zone-container\");\r\n    const startTime = parent.querySelector(\"#start-time\");\r\n    const endTime = parent.querySelector(\"#end-time\");\r\n    const days = parent.querySelectorAll(\".iucp_day_of_week\");\r\n\r\n    // update time logic\r\n    element.setAttribute(\"value\", element.value);\r\n    startTime.setAttribute(\r\n      \"name\",\r\n      `iucp_cart_manager_options[iucp_cart_time_zones][${startTime.value}]`\r\n    );\r\n    endTime.setAttribute(\r\n      \"name\",\r\n      `iucp_cart_manager_options[iucp_cart_time_zones][${startTime.value}][end_time]`\r\n    );\r\n\r\n    startTime.setAttribute(\"max\", endTime.value);\r\n    startTime.setAttribute(\"min\", 0);\r\n    endTime.setAttribute(\"min\", startTime.value);\r\n    endTime.setAttribute(\"max\", endTime.value);\r\n\r\n    // update days time\r\n    days.forEach((element, idx) => {\r\n      element.setAttribute(\r\n        \"name\",\r\n        `iucp_cart_manager_options[iucp_cart_time_zones][${\r\n          startTime.value\r\n        }][days][${this.#days[idx]}]`\r\n      );\r\n    });\r\n  }\r\n  initializeVariables() {\r\n    this.#timeZonesContainer = document.querySelector(\"#iucp_cart_time_zones\");\r\n\r\n    this.#timeZonesInputs = this.#timeZonesContainer.querySelectorAll(\r\n      \".iucp-time-zone-input\"\r\n    );\r\n\r\n    this.#addTimeZoneBtn = document.querySelector(\"#iucp-add-time-zone-button\");\r\n\r\n    this.#deleteTimeZoneBtn = document.querySelector(\r\n      \"#iucp-delete-time-zone-button\"\r\n    );\r\n\r\n    this.#days = [\r\n      \"sunday\",\r\n      \"monday\",\r\n      \"tuesday\",\r\n      \"wednesday\",\r\n      \"thursday\",\r\n      \"friday\",\r\n      \"saturday\",\r\n    ];\r\n  }\r\n\r\n  addTimeZone() {\r\n    const markup = this.#timeZonesContainer\r\n      .querySelector(\".iucp-time-zone-container\")\r\n      .cloneNode(true);\r\n    markup.insertAdjacentHTML(\r\n      \"beforeend\",\r\n      `\r\n      <input type=\"submit\" name=\"button\" id=\"iucp-delete-time-zone-button\" class=\"button delete iucp-flex\" value=\"DELETE\" style=\"margin-top: auto;\">\r\n    <br>`\r\n    );\r\n    markup.value = \"\";\r\n    this.#timeZonesContainer.append(markup);\r\n\r\n    markup.querySelectorAll(\".iucp-time-zone-input\").forEach((element) => {\r\n      element.setAttribute(\"min\", 0);\r\n      element.setAttribute(\"max\", 0);\r\n\r\n      element.addEventListener(\"input\", () => this.timeChanged(element));\r\n    });\r\n  }\r\n  deleteTimeZone(target) {\r\n    target.closest(\".iucp-time-zone-container\").remove();\r\n  }\r\n}\r\nexport default new CartManager();\r\n"],"names":["CartManager","timeZonesContainer","timeZonesInputs","addTimeZoneBtn","deleteTimeZoneBtn","days","markup","constructor","window","addEventListener","initializeVariables","events","e","preventDefault","addTimeZone","target","closest","deleteTimeZone","forEach","element","timeChanged","parent","startTime","querySelector","endTime","querySelectorAll","setAttribute","value","idx","document","cloneNode","insertAdjacentHTML","append","remove"],"sourceRoot":""}